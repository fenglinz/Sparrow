@model HomeShortcut

@section Styles{
    <style type="text/css">
        .icon-container {
            width: 36px;
            height: 30px;
            border: 1px solid #ccc;
            float: left;
            text-align: center;
            margin-right: 4px;
            -moz-border-radius: 4px;
            -webkit-border-radius: 4px;
            border-radius: 4px;
        }

            .icon-container #icon {
                font-size: 1.6em;
                padding-top: 1px;
                padding-bottom: 1px;
                line-height: 23px;
            }
    </style>
}

@section Scripts
{
    @Scripts.Render("~/bundles/validate")
    <script type="text/javascript">
        //全取系统图标
        function SelectOpenImg() {
            var url = '@Url.Action("ChooseImage", "Helper", new { @Area = "" })';

            mercurius.OpenDialog(url, 'ChooseImage', '系统图标', 615, 400, { x: 'right', y: 'bottom', statusbar: false });
        }

        //全取图标回调赋值
        function SetImage(img) {
            $("#icon").prop('class', img);
            $("#Image").val(img);
        }

        function OnSave() {
            if (JudgeValidate('#form1')) {
                $('#form1').submit();
            }
        }
    </script>
}
@using (Ajax.BeginForm("CreateOrUpdate", "HomeShortcut", null, new AjaxOptions { HttpMethod = "POST" }, new { @id = "form1", @class = "form-horizontal form", @role = "form" }))
{
    @Html.HiddenFor(m => m.Id)
    <div class="form-group form-group-sm">
        <label class="col-sm-2 control-label" for="Name">快捷功能</label>
        <div class="col-sm-10">
            @Html.TextBoxFor(m => m.Name, new { @class = "form-control", @validate_field = "快捷功能", @validate_rule = "notNull" })
        </div>
    </div>
    <div class="form-group form-group-sm">
        <label class="col-sm-2 control-label" for="Target">连接目标</label>
        <div class="col-sm-10">
            <select id="Target" name="Target" class="form-control">
                <option value="Iframe">Iframe</option>
                <option value="Open">Open</option>
                <option value="href">href</option>
            </select>
        </div>
    </div>
    <div class="form-group form-group-sm">
        <label class="col-sm-2 control-label" for="Image">显示图标</label>
        <div class="col-sm-10">
            @Html.HiddenFor(m => m.Image, new { @validate_field = "菜单图标", @validate_rule = "notNull" })
            @{    var imgUrl = Model != null && Model.Image != null ? Model.Image : string.Empty;
            }
            <div class="icon-container">
                <i id="icon" class="@imgUrl"></i>
            </div>
            <a href="javascript:void(0)" class="btn btn-sm btn-primary" onclick="SelectOpenImg()">
                <i class="glyphicon glyphicon-picture"></i> 图标选取
            </a>
        </div>
    </div>
    <div class="form-group form-group-sm">
        <label class="col-sm-2 control-label" for="Sort">显示顺序</label>
        <div class="col-sm-10">
            @Html.TextBoxFor(m => m.Sort, new { @class = "form-control", @validate_field = "显示顺序", @validate_rule = "int" })
        </div>
    </div>
    <div class="form-group form-group-sm">
        <label class="col-sm-2 control-label" for="NavigateUrl">链接地址</label>
        <div class="col-sm-10">
            @Html.TextAreaFor(m => m.NavigateUrl, new { @class = "form-control", @validate_field = "连接地址", @validate_rule = "notNull", @style = "height: 59px;" })
        </div>
    </div>
    <div class="form-group form-group-sm">
        <label class="col-sm-2 control-label" for="Remark">描述</label>
        <div class="col-sm-10">
            @Html.TextAreaFor(m => m.Remark, new { @class = "form-control", @style = "height: 59px;" })
        </div>
    </div>
}
